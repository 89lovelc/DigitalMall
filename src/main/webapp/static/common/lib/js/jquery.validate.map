{"version":3,"file":"jquery.validate.org.js","sources":["jquery.validate.org.js"],"sourcesContent":["/*!\r\n * jQuery Validation Plugin v1.13.0\r\n *\r\n * http://jqueryvalidation.org/\r\n *\r\n * Copyright (c) 2014 JÃ¶rn Zaefferer\r\n * Released under the MIT license\r\n */\r\n(function( factory ) {\r\n\tif ( typeof define === \"function\" && define.amd ) {\r\n\t\tdefine('components/jquery-validate/jquery.validate',  [\"jquery\"], factory );\r\n\t} else {\r\n\t\tfactory( jQuery );\r\n\t}\r\n}(function( $ ) {\r\n\r\n$.extend($.fn, {\r\n\t// http://jqueryvalidation.org/validate/\r\n\tvalidate: function( options ) {\r\n\r\n\t\t// if nothing is selected, return nothing; can't chain anyway\r\n\t\tif ( !this.length ) {\r\n\t\t\tif ( options && options.debug && window.console ) {\r\n\t\t\t\tconsole.warn( \"Nothing selected, can't validate, returning nothing.\" );\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// check if a validator for this form was already created\r\n\t\tvar validator = $.data( this[ 0 ], \"validator\" );\r\n\t\tif ( validator ) {\r\n\t\t\treturn validator;\r\n\t\t}\r\n\r\n\t\t// Add novalidate tag if HTML5.\r\n\t\tthis.attr( \"novalidate\", \"novalidate\" );\r\n\r\n\t\tvalidator = new $.validator( options, this[ 0 ] );\r\n\t\t$.data( this[ 0 ], \"validator\", validator );\r\n\r\n\t\tif ( validator.settings.onsubmit ) {\r\n\r\n\t\t\tthis.validateDelegate( \":submit\", \"click\", function( event ) {\r\n\t\t\t\tif ( validator.settings.submitHandler ) {\r\n\t\t\t\t\tvalidator.submitButton = event.target;\r\n\t\t\t\t}\r\n\t\t\t\t// allow suppressing validation by adding a cancel class to the submit button\r\n\t\t\t\tif ( $( event.target ).hasClass( \"cancel\" ) ) {\r\n\t\t\t\t\tvalidator.cancelSubmit = true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// allow suppressing validation by adding the html5 formnovalidate attribute to the submit button\r\n\t\t\t\tif ( $( event.target ).attr( \"formnovalidate\" ) !== undefined ) {\r\n\t\t\t\t\tvalidator.cancelSubmit = true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// validate the form on submit\r\n\t\t\tthis.submit( function( event ) {\r\n\t\t\t\tif ( validator.settings.debug ) {\r\n\t\t\t\t\t// prevent form submit to be able to see console output\r\n\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t}\r\n\t\t\t\tfunction handle() {\r\n\t\t\t\t\tvar hidden;\r\n\t\t\t\t\tif ( validator.settings.submitHandler ) {\r\n\t\t\t\t\t\tif ( validator.submitButton ) {\r\n\t\t\t\t\t\t\t// insert a hidden input as a replacement for the missing submit button\r\n\t\t\t\t\t\t\thidden = $( \"<input type='hidden'/>\" )\r\n\t\t\t\t\t\t\t\t.attr( \"name\", validator.submitButton.name )\r\n\t\t\t\t\t\t\t\t.val( $( validator.submitButton ).val() )\r\n\t\t\t\t\t\t\t\t.appendTo( validator.currentForm );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvalidator.settings.submitHandler.call( validator, validator.currentForm, event );\r\n\t\t\t\t\t\tif ( validator.submitButton ) {\r\n\t\t\t\t\t\t\t// and clean up afterwards; thanks to no-block-scope, hidden can be referenced\r\n\t\t\t\t\t\t\thidden.remove();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// prevent submit for invalid forms or custom submit handlers\r\n\t\t\t\tif ( validator.cancelSubmit ) {\r\n\t\t\t\t\tvalidator.cancelSubmit = false;\r\n\t\t\t\t\treturn handle();\r\n\t\t\t\t}\r\n\t\t\t\tif ( validator.form() ) {\r\n\t\t\t\t\tif ( validator.pendingRequest ) {\r\n\t\t\t\t\t\tvalidator.formSubmitted = true;\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn handle();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvalidator.focusInvalid();\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn validator;\r\n\t},\r\n\t// http://jqueryvalidation.org/valid/\r\n\tvalid: function() {\r\n\t\tvar valid, validator;\r\n\r\n\t\tif ( $( this[ 0 ] ).is( \"form\" ) ) {\r\n\t\t\tvalid = this.validate().form();\r\n\t\t} else {\r\n\t\t\tvalid = true;\r\n\t\t\tvalidator = $( this[ 0 ].form ).validate();\r\n\t\t\tthis.each( function() {\r\n\t\t\t\tvalid = validator.element( this ) && valid;\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn valid;\r\n\t},\r\n\t// attributes: space separated list of attributes to retrieve and remove\r\n\tremoveAttrs: function( attributes ) {\r\n\t\tvar result = {},\r\n\t\t\t$element = this;\r\n\t\t$.each( attributes.split( /\\s/ ), function( index, value ) {\r\n\t\t\tresult[ value ] = $element.attr( value );\r\n\t\t\t$element.removeAttr( value );\r\n\t\t});\r\n\t\treturn result;\r\n\t},\r\n\t// http://jqueryvalidation.org/rules/\r\n\trules: function( command, argument ) {\r\n\t\tvar element = this[ 0 ],\r\n\t\t\tsettings, staticRules, existingRules, data, param, filtered;\r\n\r\n\t\tif ( command ) {\r\n\t\t\tsettings = $.data( element.form, \"validator\" ).settings;\r\n\t\t\tstaticRules = settings.rules;\r\n\t\t\texistingRules = $.validator.staticRules( element );\r\n\t\t\tswitch ( command ) {\r\n\t\t\tcase \"add\":\r\n\t\t\t\t$.extend( existingRules, $.validator.normalizeRule( argument ) );\r\n\t\t\t\t// remove messages from rules, but allow them to be set separately\r\n\t\t\t\tdelete existingRules.messages;\r\n\t\t\t\tstaticRules[ element.name ] = existingRules;\r\n\t\t\t\tif ( argument.messages ) {\r\n\t\t\t\t\tsettings.messages[ element.name ] = $.extend( settings.messages[ element.name ], argument.messages );\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"remove\":\r\n\t\t\t\tif ( !argument ) {\r\n\t\t\t\t\tdelete staticRules[ element.name ];\r\n\t\t\t\t\treturn existingRules;\r\n\t\t\t\t}\r\n\t\t\t\tfiltered = {};\r\n\t\t\t\t$.each( argument.split( /\\s/ ), function( index, method ) {\r\n\t\t\t\t\tfiltered[ method ] = existingRules[ method ];\r\n\t\t\t\t\tdelete existingRules[ method ];\r\n\t\t\t\t\tif ( method === \"required\" ) {\r\n\t\t\t\t\t\t$( element ).removeAttr( \"aria-required\" );\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\treturn filtered;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tdata = $.validator.normalizeRules(\r\n\t\t$.extend(\r\n\t\t\t{},\r\n\t\t\t$.validator.classRules( element ),\r\n\t\t\t$.validator.attributeRules( element ),\r\n\t\t\t$.validator.dataRules( element ),\r\n\t\t\t$.validator.staticRules( element )\r\n\t\t), element );\r\n\r\n\t\t// make sure required is at front\r\n\t\tif ( data.required ) {\r\n\t\t\tparam = data.required;\r\n\t\t\tdelete data.required;\r\n\t\t\tdata = $.extend( { required: param }, data );\r\n\t\t\t$( element ).attr( \"aria-required\", \"true\" );\r\n\t\t}\r\n\r\n\t\t// make sure remote is at back\r\n\t\tif ( data.remote ) {\r\n\t\t\tparam = data.remote;\r\n\t\t\tdelete data.remote;\r\n\t\t\tdata = $.extend( data, { remote: param });\r\n\t\t}\r\n\r\n\t\treturn data;\r\n\t}\r\n});\r\n\r\n// Custom selectors\r\n$.extend( $.expr[ \":\" ], {\r\n\t// http://jqueryvalidation.org/blank-selector/\r\n\tblank: function( a ) {\r\n\t\treturn !$.trim( \"\" + $( a ).val() );\r\n\t},\r\n\t// http://jqueryvalidation.org/filled-selector/\r\n\tfilled: function( a ) {\r\n\t\treturn !!$.trim( \"\" + $( a ).val() );\r\n\t},\r\n\t// http://jqueryvalidation.org/unchecked-selector/\r\n\tunchecked: function( a ) {\r\n\t\treturn !$( a ).prop( \"checked\" );\r\n\t}\r\n});\r\n\r\n// constructor for validator\r\n$.validator = function( options, form ) {\r\n\tthis.settings = $.extend( true, {}, $.validator.defaults, options );\r\n\tthis.currentForm = form;\r\n\tthis.init();\r\n};\r\n\r\n// http://jqueryvalidation.org/jQuery.validator.format/\r\n$.validator.format = function( source, params ) {\r\n\tif ( arguments.length === 1 ) {\r\n\t\treturn function() {\r\n\t\t\tvar args = $.makeArray( arguments );\r\n\t\t\targs.unshift( source );\r\n\t\t\treturn $.validator.format.apply( this, args );\r\n\t\t};\r\n\t}\r\n\tif ( arguments.length > 2 && params.constructor !== Array  ) {\r\n\t\tparams = $.makeArray( arguments ).slice( 1 );\r\n\t}\r\n\tif ( params.constructor !== Array ) {\r\n\t\tparams = [ params ];\r\n\t}\r\n\t$.each( params, function( i, n ) {\r\n\t\tsource = source.replace( new RegExp( \"\\\\{\" + i + \"\\\\}\", \"g\" ), function() {\r\n\t\t\treturn n;\r\n\t\t});\r\n\t});\r\n\treturn source;\r\n};\r\n\r\n$.extend( $.validator, {\r\n\r\n\tdefaults: {\r\n\t\tmessages: {},\r\n\t\tgroups: {},\r\n\t\trules: {},\r\n\t\terrorClass: \"error\",\r\n\t\tvalidClass: \"valid\",\r\n\t\terrorElement: \"label\",\r\n\t\tfocusInvalid: true,\r\n\t\terrorContainer: $( [] ),\r\n\t\terrorLabelContainer: $( [] ),\r\n\t\tonsubmit: true,\r\n\t\tignore: \":hidden\",\r\n\t\tignoreTitle: false,\r\n\t\tonfocusin: function( element ) {\r\n\t\t\tthis.lastActive = element;\r\n\r\n\t\t\t// hide error label and remove error class on focus if enabled\r\n\t\t\tif ( this.settings.focusCleanup && !this.blockFocusCleanup ) {\r\n\t\t\t\tif ( this.settings.unhighlight ) {\r\n\t\t\t\t\tthis.settings.unhighlight.call( this, element, this.settings.errorClass, this.settings.validClass );\r\n\t\t\t\t}\r\n\t\t\t\tthis.hideThese( this.errorsFor( element ) );\r\n\t\t\t}\r\n\t\t},\r\n\t\tonfocusout: function( element ) {\r\n\t\t\tif ( !this.checkable( element ) && ( element.name in this.submitted || !this.optional( element ) ) ) {\r\n\t\t\t\tthis.element( element );\r\n\t\t\t}\r\n\t\t},\r\n\t\tonkeyup: function( element, event ) {\r\n\t\t\tif ( event.which === 9 && this.elementValue( element ) === \"\" ) {\r\n\t\t\t\treturn;\r\n\t\t\t} else if ( element.name in this.submitted || element === this.lastElement ) {\r\n\t\t\t\tthis.element( element );\r\n\t\t\t}\r\n\t\t},\r\n\t\tonclick: function( element ) {\r\n\t\t\t// click on selects, radiobuttons and checkboxes\r\n\t\t\tif ( element.name in this.submitted ) {\r\n\t\t\t\tthis.element( element );\r\n\r\n\t\t\t// or option elements, check parent select in that case\r\n\t\t\t} else if ( element.parentNode.name in this.submitted ) {\r\n\t\t\t\tthis.element( element.parentNode );\r\n\t\t\t}\r\n\t\t},\r\n\t\thighlight: function( element, errorClass, validClass ) {\r\n\t\t\tif ( element.type === \"radio\" ) {\r\n\t\t\t\tthis.findByName( element.name ).addClass( errorClass ).removeClass( validClass );\r\n\t\t\t} else {\r\n\t\t\t\t$( element ).addClass( errorClass ).removeClass( validClass );\r\n\t\t\t}\r\n\t\t},\r\n\t\tunhighlight: function( element, errorClass, validClass ) {\r\n\t\t\tif ( element.type === \"radio\" ) {\r\n\t\t\t\tthis.findByName( element.name ).removeClass( errorClass ).addClass( validClass );\r\n\t\t\t} else {\r\n\t\t\t\t$( element ).removeClass( errorClass ).addClass( validClass );\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t// http://jqueryvalidation.org/jQuery.validator.setDefaults/\r\n\tsetDefaults: function( settings ) {\r\n\t\t$.extend( $.validator.defaults, settings );\r\n\t},\r\n\r\n\tmessages: {\r\n\t\trequired: \"This field is required.\",\r\n\t\tremote: \"Please fix this field.\",\r\n\t\temail: \"Please enter a valid email address.\",\r\n\t\turl: \"Please enter a valid URL.\",\r\n\t\tdate: \"Please enter a valid date.\",\r\n\t\tdateISO: \"Please enter a valid date ( ISO ).\",\r\n\t\tnumber: \"Please enter a valid number.\",\r\n\t\tdigits: \"Please enter only digits.\",\r\n\t\tcreditcard: \"Please enter a valid credit card number.\",\r\n\t\tequalTo: \"Please enter the same value again.\",\r\n\t\tmaxlength: $.validator.format( \"Please enter no more than {0} characters.\" ),\r\n\t\tminlength: $.validator.format( \"Please enter at least {0} characters.\" ),\r\n\t\trangelength: $.validator.format( \"Please enter a value between {0} and {1} characters long.\" ),\r\n\t\trange: $.validator.format( \"Please enter a value between {0} and {1}.\" ),\r\n\t\tmax: $.validator.format( \"Please enter a value less than or equal to {0}.\" ),\r\n\t\tmin: $.validator.format( \"Please enter a value greater than or equal to {0}.\" )\r\n\t},\r\n\r\n\tautoCreateRanges: false,\r\n\r\n\tprototype: {\r\n\r\n\t\tinit: function() {\r\n\t\t\tthis.labelContainer = $( this.settings.errorLabelContainer );\r\n\t\t\tthis.errorContext = this.labelContainer.length && this.labelContainer || $( this.currentForm );\r\n\t\t\tthis.containers = $( this.settings.errorContainer ).add( this.settings.errorLabelContainer );\r\n\t\t\tthis.submitted = {};\r\n\t\t\tthis.valueCache = {};\r\n\t\t\tthis.pendingRequest = 0;\r\n\t\t\tthis.pending = {};\r\n\t\t\tthis.invalid = {};\r\n\t\t\tthis.reset();\r\n\r\n\t\t\tvar groups = ( this.groups = {} ),\r\n\t\t\t\trules;\r\n\t\t\t$.each( this.settings.groups, function( key, value ) {\r\n\t\t\t\tif ( typeof value === \"string\" ) {\r\n\t\t\t\t\tvalue = value.split( /\\s/ );\r\n\t\t\t\t}\r\n\t\t\t\t$.each( value, function( index, name ) {\r\n\t\t\t\t\tgroups[ name ] = key;\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\trules = this.settings.rules;\r\n\t\t\t$.each( rules, function( key, value ) {\r\n\t\t\t\trules[ key ] = $.validator.normalizeRule( value );\r\n\t\t\t});\r\n\r\n\t\t\tfunction delegate( event ) {\r\n\t\t\t\tvar validator = $.data( this[ 0 ].form, \"validator\" ),\r\n\t\t\t\t\teventType = \"on\" + event.type.replace( /^validate/, \"\" ),\r\n\t\t\t\t\tsettings = validator.settings;\r\n\t\t\t\tif ( settings[ eventType ] && !this.is( settings.ignore ) ) {\r\n\t\t\t\t\tsettings[ eventType ].call( validator, this[ 0 ], event );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t$( this.currentForm )\r\n\t\t\t\t.validateDelegate( \":text, [type='password'], [type='file'], select, textarea, \" +\r\n\t\t\t\t\t\"[type='number'], [type='search'] ,[type='tel'], [type='url'], \" +\r\n\t\t\t\t\t\"[type='email'], [type='datetime'], [type='date'], [type='month'], \" +\r\n\t\t\t\t\t\"[type='week'], [type='time'], [type='datetime-local'], \" +\r\n\t\t\t\t\t\"[type='range'], [type='color'], [type='radio'], [type='checkbox']\",\r\n\t\t\t\t\t\"focusin focusout keyup\", delegate)\r\n\t\t\t\t// Support: Chrome, oldIE\r\n\t\t\t\t// \"select\" is provided as event.target when clicking a option\r\n\t\t\t\t.validateDelegate(\"select, option, [type='radio'], [type='checkbox']\", \"click\", delegate);\r\n\r\n\t\t\tif ( this.settings.invalidHandler ) {\r\n\t\t\t\t$( this.currentForm ).bind( \"invalid-form.validate\", this.settings.invalidHandler );\r\n\t\t\t}\r\n\r\n\t\t\t// Add aria-required to any Static/Data/Class required fields before first validation\r\n\t\t\t// Screen readers require this attribute to be present before the initial submission http://www.w3.org/TR/WCAG-TECHS/ARIA2.html\r\n\t\t\t$( this.currentForm ).find( \"[required], [data-rule-required], .required\" ).attr( \"aria-required\", \"true\" );\r\n\t\t},\r\n\r\n\t\t// http://jqueryvalidation.org/Validator.form/\r\n\t\tform: function() {\r\n\t\t\tthis.checkForm();\r\n\t\t\t$.extend( this.submitted, this.errorMap );\r\n\t\t\tthis.invalid = $.extend({}, this.errorMap );\r\n\t\t\tif ( !this.valid() ) {\r\n\t\t\t\t$( this.currentForm ).triggerHandler( \"invalid-form\", [ this ]);\r\n\t\t\t}\r\n\t\t\tthis.showErrors();\r\n\t\t\treturn this.valid();\r\n\t\t},\r\n\r\n\t\tcheckForm: function() {\r\n\t\t\tthis.prepareForm();\r\n\t\t\tfor ( var i = 0, elements = ( this.currentElements = this.elements() ); elements[ i ]; i++ ) {\r\n\t\t\t\tthis.check( elements[ i ] );\r\n\t\t\t}\r\n\t\t\treturn this.valid();\r\n\t\t},\r\n\r\n\t\t// http://jqueryvalidation.org/Validator.element/\r\n\t\telement: function( element ) {\r\n\t\t\tvar cleanElement = this.clean( element ),\r\n\t\t\t\tcheckElement = this.validationTargetFor( cleanElement ),\r\n\t\t\t\tresult = true;\r\n\r\n\t\t\tthis.lastElement = checkElement;\r\n\r\n\t\t\tif ( checkElement === undefined ) {\r\n\t\t\t\tdelete this.invalid[ cleanElement.name ];\r\n\t\t\t} else {\r\n\t\t\t\tthis.prepareElement( checkElement );\r\n\t\t\t\tthis.currentElements = $( checkElement );\r\n\r\n\t\t\t\tresult = this.check( checkElement ) !== false;\r\n\t\t\t\tif ( result ) {\r\n\t\t\t\t\tdelete this.invalid[ checkElement.name ];\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.invalid[ checkElement.name ] = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// Add aria-invalid status for screen readers\r\n\t\t\t$( element ).attr( \"aria-invalid\", !result );\r\n\r\n\t\t\tif ( !this.numberOfInvalids() ) {\r\n\t\t\t\t// Hide error containers on last error\r\n\t\t\t\tthis.toHide = this.toHide.add( this.containers );\r\n\t\t\t}\r\n\t\t\tthis.showErrors();\r\n\t\t\treturn result;\r\n\t\t},\r\n\r\n\t\t// http://jqueryvalidation.org/Validator.showErrors/\r\n\t\tshowErrors: function( errors ) {\r\n\t\t\tif ( errors ) {\r\n\t\t\t\t// add items to error list and map\r\n\t\t\t\t$.extend( this.errorMap, errors );\r\n\t\t\t\tthis.errorList = [];\r\n\t\t\t\tfor ( var name in errors ) {\r\n\t\t\t\t\tthis.errorList.push({\r\n\t\t\t\t\t\tmessage: errors[ name ],\r\n\t\t\t\t\t\telement: this.findByName( name )[ 0 ]\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t// remove items from success list\r\n\t\t\t\tthis.successList = $.grep( this.successList, function( element ) {\r\n\t\t\t\t\treturn !( element.name in errors );\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tif ( this.settings.showErrors ) {\r\n\t\t\t\tthis.settings.showErrors.call( this, this.errorMap, this.errorList );\r\n\t\t\t} else {\r\n\t\t\t\tthis.defaultShowErrors();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// http://jqueryvalidation.org/Validator.resetForm/\r\n\t\tresetForm: function() {\r\n\t\t\tif ( $.fn.resetForm ) {\r\n\t\t\t\t$( this.currentForm ).resetForm();\r\n\t\t\t}\r\n\t\t\tthis.submitted = {};\r\n\t\t\tthis.lastElement = null;\r\n\t\t\tthis.prepareForm();\r\n\t\t\tthis.hideErrors();\r\n\t\t\tthis.elements()\r\n\t\t\t\t\t.removeClass( this.settings.errorClass )\r\n\t\t\t\t\t.removeData( \"previousValue\" )\r\n\t\t\t\t\t.removeAttr( \"aria-invalid\" );\r\n\t\t},\r\n\r\n\t\tnumberOfInvalids: function() {\r\n\t\t\treturn this.objectLength( this.invalid );\r\n\t\t},\r\n\r\n\t\tobjectLength: function( obj ) {\r\n\t\t\t/* jshint unused: false */\r\n\t\t\tvar count = 0,\r\n\t\t\t\ti;\r\n\t\t\tfor ( i in obj ) {\r\n\t\t\t\tcount++;\r\n\t\t\t}\r\n\t\t\treturn count;\r\n\t\t},\r\n\r\n\t\thideErrors: function() {\r\n\t\t\tthis.hideThese( this.toHide );\r\n\t\t},\r\n\r\n\t\thideThese: function( errors ) {\r\n\t\t\terrors.not( this.containers ).text( \"\" );\r\n\t\t\tthis.addWrapper( errors ).hide();\r\n\t\t},\r\n\r\n\t\tvalid: function() {\r\n\t\t\treturn this.size() === 0;\r\n\t\t},\r\n\r\n\t\tsize: function() {\r\n\t\t\treturn this.errorList.length;\r\n\t\t},\r\n\r\n\t\tfocusInvalid: function() {\r\n\t\t\tif ( this.settings.focusInvalid ) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\t$( this.findLastActive() || this.errorList.length && this.errorList[ 0 ].element || [])\r\n\t\t\t\t\t.filter( \":visible\" )\r\n\t\t\t\t\t.focus()\r\n\t\t\t\t\t// manually trigger focusin event; without it, focusin handler isn't called, findLastActive won't have anything to find\r\n\t\t\t\t\t.trigger( \"focusin\" );\r\n\t\t\t\t} catch ( e ) {\r\n\t\t\t\t\t// ignore IE throwing errors when focusing hidden elements\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tfindLastActive: function() {\r\n\t\t\tvar lastActive = this.lastActive;\r\n\t\t\treturn lastActive && $.grep( this.errorList, function( n ) {\r\n\t\t\t\treturn n.element.name === lastActive.name;\r\n\t\t\t}).length === 1 && lastActive;\r\n\t\t},\r\n\r\n\t\telements: function() {\r\n\t\t\tvar validator = this,\r\n\t\t\t\trulesCache = {};\r\n\r\n\t\t\t// select all valid inputs inside the form (no submit or reset buttons)\r\n\t\t\treturn $( this.currentForm )\r\n\t\t\t.find( \"input, select, textarea\" )\r\n\t\t\t.not( \":submit, :reset, :image, [disabled]\" )\r\n\t\t\t.not( this.settings.ignore )\r\n\t\t\t.filter( function() {\r\n\t\t\t\tif ( !this.name && validator.settings.debug && window.console ) {\r\n\t\t\t\t\tconsole.error( \"%o has no name assigned\", this );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// select only the first element for each name, and only those with rules specified\r\n\t\t\t\tif ( this.name in rulesCache || !validator.objectLength( $( this ).rules() ) ) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\trulesCache[ this.name ] = true;\r\n\t\t\t\treturn true;\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tclean: function( selector ) {\r\n\t\t\treturn $( selector )[ 0 ];\r\n\t\t},\r\n\r\n\t\terrors: function() {\r\n\t\t\tvar errorClass = this.settings.errorClass.split( \" \" ).join( \".\" );\r\n\t\t\treturn $( this.settings.errorElement + \".\" + errorClass, this.errorContext );\r\n\t\t},\r\n\r\n\t\treset: function() {\r\n\t\t\tthis.successList = [];\r\n\t\t\tthis.errorList = [];\r\n\t\t\tthis.errorMap = {};\r\n\t\t\tthis.toShow = $( [] );\r\n\t\t\tthis.toHide = $( [] );\r\n\t\t\tthis.currentElements = $( [] );\r\n\t\t},\r\n\r\n\t\tprepareForm: function() {\r\n\t\t\tthis.reset();\r\n\t\t\tthis.toHide = this.errors().add( this.containers );\r\n\t\t},\r\n\r\n\t\tprepareElement: function( element ) {\r\n\t\t\tthis.reset();\r\n\t\t\tthis.toHide = this.errorsFor( element );\r\n\t\t},\r\n\r\n\t\telementValue: function( element ) {\r\n\t\t\tvar val,\r\n\t\t\t\t$element = $( element ),\r\n\t\t\t\ttype = element.type;\r\n\r\n\t\t\tif ( type === \"radio\" || type === \"checkbox\" ) {\r\n\t\t\t\treturn $( \"input[name='\" + element.name + \"']:checked\" ).val();\r\n\t\t\t} else if ( type === \"number\" && typeof element.validity !== \"undefined\" ) {\r\n\t\t\t\treturn element.validity.badInput ? false : $element.val();\r\n\t\t\t}\r\n\r\n\t\t\tval = $element.val();\r\n\t\t\tif ( typeof val === \"string\" ) {\r\n\t\t\t\treturn val.replace(/\\r/g, \"\" );\r\n\t\t\t}\r\n\t\t\treturn val;\r\n\t\t},\r\n\r\n\t\tcheck: function( element ) {\r\n\t\t\telement = this.validationTargetFor( this.clean( element ) );\r\n\r\n\t\t\tvar rules = $( element ).rules(),\r\n\t\t\t\trulesCount = $.map( rules, function( n, i ) {\r\n\t\t\t\t\treturn i;\r\n\t\t\t\t}).length,\r\n\t\t\t\tdependencyMismatch = false,\r\n\t\t\t\tval = this.elementValue( element ),\r\n\t\t\t\tresult, method, rule;\r\n\r\n\t\t\tfor ( method in rules ) {\r\n\t\t\t\trule = { method: method, parameters: rules[ method ] };\r\n\t\t\t\ttry {\r\n\r\n\t\t\t\t\tresult = $.validator.methods[ method ].call( this, val, element, rule.parameters );\r\n\r\n\t\t\t\t\t// if a method indicates that the field is optional and therefore valid,\r\n\t\t\t\t\t// don't mark it as valid when there are no other rules\r\n\t\t\t\t\tif ( result === \"dependency-mismatch\" && rulesCount === 1 ) {\r\n\t\t\t\t\t\tdependencyMismatch = true;\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdependencyMismatch = false;\r\n\r\n\t\t\t\t\tif ( result === \"pending\" ) {\r\n\t\t\t\t\t\tthis.toHide = this.toHide.not( this.errorsFor( element ) );\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( !result ) {\r\n\t\t\t\t\t\tthis.formatAndAdd( element, rule );\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch ( e ) {\r\n\t\t\t\t\tif ( this.settings.debug && window.console ) {\r\n\t\t\t\t\t\tconsole.log( \"Exception occurred when checking element \" + element.id + \", check the '\" + rule.method + \"' method.\", e );\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthrow e;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif ( dependencyMismatch ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif ( this.objectLength( rules ) ) {\r\n\t\t\t\tthis.successList.push( element );\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t},\r\n\r\n\t\t// return the custom message for the given element and validation method\r\n\t\t// specified in the element's HTML5 data attribute\r\n\t\t// return the generic message if present and no method specific message is present\r\n\t\tcustomDataMessage: function( element, method ) {\r\n\t\t\treturn $( element ).data( \"msg\" + method.charAt( 0 ).toUpperCase() +\r\n\t\t\t\tmethod.substring( 1 ).toLowerCase() ) || $( element ).data( \"msg\" );\r\n\t\t},\r\n\r\n\t\t// return the custom message for the given element name and validation method\r\n\t\tcustomMessage: function( name, method ) {\r\n\t\t\tvar m = this.settings.messages[ name ];\r\n\t\t\treturn m && ( m.constructor === String ? m : m[ method ]);\r\n\t\t},\r\n\r\n\t\t// return the first defined argument, allowing empty strings\r\n\t\tfindDefined: function() {\r\n\t\t\tfor ( var i = 0; i < arguments.length; i++) {\r\n\t\t\t\tif ( arguments[ i ] !== undefined ) {\r\n\t\t\t\t\treturn arguments[ i ];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn undefined;\r\n\t\t},\r\n\r\n\t\tdefaultMessage: function( element, method ) {\r\n\t\t\treturn this.findDefined(\r\n\t\t\t\tthis.customMessage( element.name, method ),\r\n\t\t\t\tthis.customDataMessage( element, method ),\r\n\t\t\t\t// title is never undefined, so handle empty string as undefined\r\n\t\t\t\t!this.settings.ignoreTitle && element.title || undefined,\r\n\t\t\t\t$.validator.messages[ method ],\r\n\t\t\t\t\"<strong>Warning: No message defined for \" + element.name + \"</strong>\"\r\n\t\t\t);\r\n\t\t},\r\n\r\n\t\tformatAndAdd: function( element, rule ) {\r\n\t\t\tvar message = this.defaultMessage( element, rule.method ),\r\n\t\t\t\ttheregex = /\\$?\\{(\\d+)\\}/g;\r\n\t\t\tif ( typeof message === \"function\" ) {\r\n\t\t\t\tmessage = message.call( this, rule.parameters, element );\r\n\t\t\t} else if ( theregex.test( message ) ) {\r\n\t\t\t\tmessage = $.validator.format( message.replace( theregex, \"{$1}\" ), rule.parameters );\r\n\t\t\t}\r\n\t\t\tthis.errorList.push({\r\n\t\t\t\tmessage: message,\r\n\t\t\t\telement: element,\r\n\t\t\t\tmethod: rule.method\r\n\t\t\t});\r\n\r\n\t\t\tthis.errorMap[ element.name ] = message;\r\n\t\t\tthis.submitted[ element.name ] = message;\r\n\t\t},\r\n\r\n\t\taddWrapper: function( toToggle ) {\r\n\t\t\tif ( this.settings.wrapper ) {\r\n\t\t\t\ttoToggle = toToggle.add( toToggle.parent( this.settings.wrapper ) );\r\n\t\t\t}\r\n\t\t\treturn toToggle;\r\n\t\t},\r\n\r\n\t\tdefaultShowErrors: function() {\r\n\t\t\tvar i, elements, error;\r\n\t\t\tfor ( i = 0; this.errorList[ i ]; i++ ) {\r\n\t\t\t\terror = this.errorList[ i ];\r\n\t\t\t\tif ( this.settings.highlight ) {\r\n\t\t\t\t\tthis.settings.highlight.call( this, error.element, this.settings.errorClass, this.settings.validClass );\r\n\t\t\t\t}\r\n\t\t\t\tthis.showLabel( error.element, error.message );\r\n\t\t\t}\r\n\t\t\tif ( this.errorList.length ) {\r\n\t\t\t\tthis.toShow = this.toShow.add( this.containers );\r\n\t\t\t}\r\n\t\t\tif ( this.settings.success ) {\r\n\t\t\t\tfor ( i = 0; this.successList[ i ]; i++ ) {\r\n\t\t\t\t\tthis.showLabel( this.successList[ i ] );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif ( this.settings.unhighlight ) {\r\n\t\t\t\tfor ( i = 0, elements = this.validElements(); elements[ i ]; i++ ) {\r\n\t\t\t\t\tthis.settings.unhighlight.call( this, elements[ i ], this.settings.errorClass, this.settings.validClass );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.toHide = this.toHide.not( this.toShow );\r\n\t\t\tthis.hideErrors();\r\n\t\t\tthis.addWrapper( this.toShow ).show();\r\n\t\t},\r\n\r\n\t\tvalidElements: function() {\r\n\t\t\treturn this.currentElements.not( this.invalidElements() );\r\n\t\t},\r\n\r\n\t\tinvalidElements: function() {\r\n\t\t\treturn $( this.errorList ).map(function() {\r\n\t\t\t\treturn this.element;\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tshowLabel: function( element, message ) {\r\n\t\t\tvar place, group, errorID,\r\n\t\t\t\terror = this.errorsFor( element ),\r\n\t\t\t\telementID = this.idOrName( element ),\r\n\t\t\t\tdescribedBy = $( element ).attr( \"aria-describedby\" );\r\n\t\t\tif ( error.length ) {\r\n\t\t\t\t// refresh error/success class\r\n\t\t\t\terror.removeClass( this.settings.validClass ).addClass( this.settings.errorClass );\r\n\t\t\t\t// replace message on existing label\r\n\t\t\t\terror.html( message );\r\n\t\t\t} else {\r\n\t\t\t\t// create error element\r\n\t\t\t\terror = $( \"<\" + this.settings.errorElement + \">\" )\r\n\t\t\t\t\t.attr( \"id\", elementID + \"-error\" )\r\n\t\t\t\t\t.addClass( this.settings.errorClass )\r\n\t\t\t\t\t.html( message || \"\" );\r\n\r\n\t\t\t\t// Maintain reference to the element to be placed into the DOM\r\n\t\t\t\tplace = error;\r\n\t\t\t\tif ( this.settings.wrapper ) {\r\n\t\t\t\t\t// make sure the element is visible, even in IE\r\n\t\t\t\t\t// actually showing the wrapped element is handled elsewhere\r\n\t\t\t\t\tplace = error.hide().show().wrap( \"<\" + this.settings.wrapper + \"/>\" ).parent();\r\n\t\t\t\t}\r\n\t\t\t\tif ( this.labelContainer.length ) {\r\n\t\t\t\t\tthis.labelContainer.append( place );\r\n\t\t\t\t} else if ( this.settings.errorPlacement ) {\r\n\t\t\t\t\tthis.settings.errorPlacement( place, $( element ) );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tplace.insertAfter( element );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Link error back to the element\r\n\t\t\t\tif ( error.is( \"label\" ) ) {\r\n\t\t\t\t\t// If the error is a label, then associate using 'for'\r\n\t\t\t\t\terror.attr( \"for\", elementID );\r\n\t\t\t\t} else if ( error.parents( \"label[for='\" + elementID + \"']\" ).length === 0 ) {\r\n\t\t\t\t\t// If the element is not a child of an associated label, then it's necessary\r\n\t\t\t\t\t// to explicitly apply aria-describedby\r\n\r\n\t\t\t\t\terrorID = error.attr( \"id\" );\r\n\t\t\t\t\t// Respect existing non-error aria-describedby\r\n\t\t\t\t\tif ( !describedBy ) {\r\n\t\t\t\t\t\tdescribedBy = errorID;\r\n\t\t\t\t\t} else if ( !describedBy.match( new RegExp( \"\\b\" + errorID + \"\\b\" ) ) ) {\r\n\t\t\t\t\t\t// Add to end of list if not already present\r\n\t\t\t\t\t\tdescribedBy += \" \" + errorID;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t$( element ).attr( \"aria-describedby\", describedBy );\r\n\r\n\t\t\t\t\t// If this element is grouped, then assign to all elements in the same group\r\n\t\t\t\t\tgroup = this.groups[ element.name ];\r\n\t\t\t\t\tif ( group ) {\r\n\t\t\t\t\t\t$.each( this.groups, function( name, testgroup ) {\r\n\t\t\t\t\t\t\tif ( testgroup === group ) {\r\n\t\t\t\t\t\t\t\t$( \"[name='\" + name + \"']\", this.currentForm )\r\n\t\t\t\t\t\t\t\t\t.attr( \"aria-describedby\", error.attr( \"id\" ) );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif ( !message && this.settings.success ) {\r\n\t\t\t\terror.text( \"\" );\r\n\t\t\t\tif ( typeof this.settings.success === \"string\" ) {\r\n\t\t\t\t\terror.addClass( this.settings.success );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.settings.success( error, element );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.toShow = this.toShow.add( error );\r\n\t\t},\r\n\r\n\t\terrorsFor: function( element ) {\r\n\t\t\tvar name = this.idOrName( element ),\r\n\t\t\t\tdescriber = $( element ).attr( \"aria-describedby\" ),\r\n\t\t\t\tselector = \"label[for='\" + name + \"'], label[for='\" + name + \"'] *\";\r\n\t\t\t// aria-describedby should directly reference the error element\r\n\t\t\tif ( describer ) {\r\n\t\t\t\tselector = selector + \", #\" + describer.replace( /\\s+/g, \", #\" );\r\n\t\t\t}\r\n\t\t\treturn this\r\n\t\t\t\t.errors()\r\n\t\t\t\t.filter( selector );\r\n\t\t},\r\n\r\n\t\tidOrName: function( element ) {\r\n\t\t\treturn this.groups[ element.name ] || ( this.checkable( element ) ? element.name : element.id || element.name );\r\n\t\t},\r\n\r\n\t\tvalidationTargetFor: function( element ) {\r\n\t\t\t// if radio/checkbox, validate first element in group instead\r\n\t\t\tif ( this.checkable( element ) ) {\r\n\t\t\t\telement = this.findByName( element.name ).not( this.settings.ignore )[ 0 ];\r\n\t\t\t}\r\n\t\t\treturn element;\r\n\t\t},\r\n\r\n\t\tcheckable: function( element ) {\r\n\t\t\treturn ( /radio|checkbox/i ).test( element.type );\r\n\t\t},\r\n\r\n\t\tfindByName: function( name ) {\r\n\t\t\treturn $( this.currentForm ).find( \"[name='\" + name + \"']\" );\r\n\t\t},\r\n\r\n\t\tgetLength: function( value, element ) {\r\n\t\t\tswitch ( element.nodeName.toLowerCase() ) {\r\n\t\t\tcase \"select\":\r\n\t\t\t\treturn $( \"option:selected\", element ).length;\r\n\t\t\tcase \"input\":\r\n\t\t\t\tif ( this.checkable( element ) ) {\r\n\t\t\t\t\treturn this.findByName( element.name ).filter( \":checked\" ).length;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn value.length;\r\n\t\t},\r\n\r\n\t\tdepend: function( param, element ) {\r\n\t\t\treturn this.dependTypes[typeof param] ? this.dependTypes[typeof param]( param, element ) : true;\r\n\t\t},\r\n\r\n\t\tdependTypes: {\r\n\t\t\t\"boolean\": function( param ) {\r\n\t\t\t\treturn param;\r\n\t\t\t},\r\n\t\t\t\"string\": function( param, element ) {\r\n\t\t\t\treturn !!$( param, element.form ).length;\r\n\t\t\t},\r\n\t\t\t\"function\": function( param, element ) {\r\n\t\t\t\treturn param( element );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\toptional: function( element ) {\r\n\t\t\tvar val = this.elementValue( element );\r\n\t\t\treturn !$.validator.methods.required.call( this, val, element ) && \"dependency-mismatch\";\r\n\t\t},\r\n\r\n\t\tstartRequest: function( element ) {\r\n\t\t\tif ( !this.pending[ element.name ] ) {\r\n\t\t\t\tthis.pendingRequest++;\r\n\t\t\t\tthis.pending[ element.name ] = true;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tstopRequest: function( element, valid ) {\r\n\t\t\tthis.pendingRequest--;\r\n\t\t\t// sometimes synchronization fails, make sure pendingRequest is never < 0\r\n\t\t\tif ( this.pendingRequest < 0 ) {\r\n\t\t\t\tthis.pendingRequest = 0;\r\n\t\t\t}\r\n\t\t\tdelete this.pending[ element.name ];\r\n\t\t\tif ( valid && this.pendingRequest === 0 && this.formSubmitted && this.form() ) {\r\n\t\t\t\t$( this.currentForm ).submit();\r\n\t\t\t\tthis.formSubmitted = false;\r\n\t\t\t} else if (!valid && this.pendingRequest === 0 && this.formSubmitted ) {\r\n\t\t\t\t$( this.currentForm ).triggerHandler( \"invalid-form\", [ this ]);\r\n\t\t\t\tthis.formSubmitted = false;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tpreviousValue: function( element ) {\r\n\t\t\treturn $.data( element, \"previousValue\" ) || $.data( element, \"previousValue\", {\r\n\t\t\t\told: null,\r\n\t\t\t\tvalid: true,\r\n\t\t\t\tmessage: this.defaultMessage( element, \"remote\" )\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tclassRuleSettings: {\r\n\t\trequired: { required: true },\r\n\t\temail: { email: true },\r\n\t\turl: { url: true },\r\n\t\tdate: { date: true },\r\n\t\tdateISO: { dateISO: true },\r\n\t\tnumber: { number: true },\r\n\t\tdigits: { digits: true },\r\n\t\tcreditcard: { creditcard: true }\r\n\t},\r\n\r\n\taddClassRules: function( className, rules ) {\r\n\t\tif ( className.constructor === String ) {\r\n\t\t\tthis.classRuleSettings[ className ] = rules;\r\n\t\t} else {\r\n\t\t\t$.extend( this.classRuleSettings, className );\r\n\t\t}\r\n\t},\r\n\r\n\tclassRules: function( element ) {\r\n\t\tvar rules = {},\r\n\t\t\tclasses = $( element ).attr( \"class\" );\r\n\r\n\t\tif ( classes ) {\r\n\t\t\t$.each( classes.split( \" \" ), function() {\r\n\t\t\t\tif ( this in $.validator.classRuleSettings ) {\r\n\t\t\t\t\t$.extend( rules, $.validator.classRuleSettings[ this ]);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn rules;\r\n\t},\r\n\r\n\tattributeRules: function( element ) {\r\n\t\tvar rules = {},\r\n\t\t\t$element = $( element ),\r\n\t\t\ttype = element.getAttribute( \"type\" ),\r\n\t\t\tmethod, value;\r\n\r\n\t\tfor ( method in $.validator.methods ) {\r\n\r\n\t\t\t// support for <input required> in both html5 and older browsers\r\n\t\t\tif ( method === \"required\" ) {\r\n\t\t\t\tvalue = element.getAttribute( method );\r\n\t\t\t\t// Some browsers return an empty string for the required attribute\r\n\t\t\t\t// and non-HTML5 browsers might have required=\"\" markup\r\n\t\t\t\tif ( value === \"\" ) {\r\n\t\t\t\t\tvalue = true;\r\n\t\t\t\t}\r\n\t\t\t\t// force non-HTML5 browsers to return bool\r\n\t\t\t\tvalue = !!value;\r\n\t\t\t} else {\r\n\t\t\t\tvalue = $element.attr( method );\r\n\t\t\t}\r\n\r\n\t\t\t// convert the value to a number for number inputs, and for text for backwards compability\r\n\t\t\t// allows type=\"date\" and others to be compared as strings\r\n\t\t\tif ( /min|max/.test( method ) && ( type === null || /number|range|text/.test( type ) ) ) {\r\n\t\t\t\tvalue = Number( value );\r\n\t\t\t}\r\n\r\n\t\t\tif ( value || value === 0 ) {\r\n\t\t\t\trules[ method ] = value;\r\n\t\t\t} else if ( type === method && type !== \"range\" ) {\r\n\t\t\t\t// exception: the jquery validate 'range' method\r\n\t\t\t\t// does not test for the html5 'range' type\r\n\t\t\t\trules[ method ] = true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// maxlength may be returned as -1, 2147483647 ( IE ) and 524288 ( safari ) for text inputs\r\n\t\tif ( rules.maxlength && /-1|2147483647|524288/.test( rules.maxlength ) ) {\r\n\t\t\tdelete rules.maxlength;\r\n\t\t}\r\n\r\n\t\treturn rules;\r\n\t},\r\n\r\n\tdataRules: function( element ) {\r\n\t\tvar method, value,\r\n\t\t\trules = {}, $element = $( element );\r\n\t\tfor ( method in $.validator.methods ) {\r\n\t\t\tvalue = $element.data( \"rule\" + method.charAt( 0 ).toUpperCase() + method.substring( 1 ).toLowerCase() );\r\n\t\t\tif ( value !== undefined ) {\r\n\t\t\t\trules[ method ] = value;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn rules;\r\n\t},\r\n\r\n\tstaticRules: function( element ) {\r\n\t\tvar rules = {},\r\n\t\t\tvalidator = $.data( element.form, \"validator\" );\r\n\r\n\t\tif ( validator.settings.rules ) {\r\n\t\t\trules = $.validator.normalizeRule( validator.settings.rules[ element.name ] ) || {};\r\n\t\t}\r\n\t\treturn rules;\r\n\t},\r\n\r\n\tnormalizeRules: function( rules, element ) {\r\n\t\t// handle dependency check\r\n\t\t$.each( rules, function( prop, val ) {\r\n\t\t\t// ignore rule when param is explicitly false, eg. required:false\r\n\t\t\tif ( val === false ) {\r\n\t\t\t\tdelete rules[ prop ];\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif ( val.param || val.depends ) {\r\n\t\t\t\tvar keepRule = true;\r\n\t\t\t\tswitch ( typeof val.depends ) {\r\n\t\t\t\tcase \"string\":\r\n\t\t\t\t\tkeepRule = !!$( val.depends, element.form ).length;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"function\":\r\n\t\t\t\t\tkeepRule = val.depends.call( element, element );\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tif ( keepRule ) {\r\n\t\t\t\t\trules[ prop ] = val.param !== undefined ? val.param : true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdelete rules[ prop ];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// evaluate parameters\r\n\t\t$.each( rules, function( rule, parameter ) {\r\n\t\t\trules[ rule ] = $.isFunction( parameter ) ? parameter( element ) : parameter;\r\n\t\t});\r\n\r\n\t\t// clean number parameters\r\n\t\t$.each([ \"minlength\", \"maxlength\" ], function() {\r\n\t\t\tif ( rules[ this ] ) {\r\n\t\t\t\trules[ this ] = Number( rules[ this ] );\r\n\t\t\t}\r\n\t\t});\r\n\t\t$.each([ \"rangelength\", \"range\" ], function() {\r\n\t\t\tvar parts;\r\n\t\t\tif ( rules[ this ] ) {\r\n\t\t\t\tif ( $.isArray( rules[ this ] ) ) {\r\n\t\t\t\t\trules[ this ] = [ Number( rules[ this ][ 0 ]), Number( rules[ this ][ 1 ] ) ];\r\n\t\t\t\t} else if ( typeof rules[ this ] === \"string\" ) {\r\n\t\t\t\t\tparts = rules[ this ].replace(/[\\[\\]]/g, \"\" ).split( /[\\s,]+/ );\r\n\t\t\t\t\trules[ this ] = [ Number( parts[ 0 ]), Number( parts[ 1 ] ) ];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif ( $.validator.autoCreateRanges ) {\r\n\t\t\t// auto-create ranges\r\n\t\t\tif ( rules.min && rules.max ) {\r\n\t\t\t\trules.range = [ rules.min, rules.max ];\r\n\t\t\t\tdelete rules.min;\r\n\t\t\t\tdelete rules.max;\r\n\t\t\t}\r\n\t\t\tif ( rules.minlength && rules.maxlength ) {\r\n\t\t\t\trules.rangelength = [ rules.minlength, rules.maxlength ];\r\n\t\t\t\tdelete rules.minlength;\r\n\t\t\t\tdelete rules.maxlength;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn rules;\r\n\t},\r\n\r\n\t// Converts a simple string to a {string: true} rule, e.g., \"required\" to {required:true}\r\n\tnormalizeRule: function( data ) {\r\n\t\tif ( typeof data === \"string\" ) {\r\n\t\t\tvar transformed = {};\r\n\t\t\t$.each( data.split( /\\s/ ), function() {\r\n\t\t\t\ttransformed[ this ] = true;\r\n\t\t\t});\r\n\t\t\tdata = transformed;\r\n\t\t}\r\n\t\treturn data;\r\n\t},\r\n\r\n\t// http://jqueryvalidation.org/jQuery.validator.addMethod/\r\n\taddMethod: function( name, method, message ) {\r\n\t\t$.validator.methods[ name ] = method;\r\n\t\t$.validator.messages[ name ] = message !== undefined ? message : $.validator.messages[ name ];\r\n\t\tif ( method.length < 3 ) {\r\n\t\t\t$.validator.addClassRules( name, $.validator.normalizeRule( name ) );\r\n\t\t}\r\n\t},\r\n\r\n\tmethods: {\r\n\r\n\t\t// http://jqueryvalidation.org/required-method/\r\n\t\trequired: function( value, element, param ) {\r\n\t\t\t// check if dependency is met\r\n\t\t\tif ( !this.depend( param, element ) ) {\r\n\t\t\t\treturn \"dependency-mismatch\";\r\n\t\t\t}\r\n\t\t\tif ( element.nodeName.toLowerCase() === \"select\" ) {\r\n\t\t\t\t// could be an array for select-multiple or a string, both are fine this way\r\n\t\t\t\tvar val = $( element ).val();\r\n\t\t\t\treturn val && val.length > 0;\r\n\t\t\t}\r\n\t\t\tif ( this.checkable( element ) ) {\r\n\t\t\t\treturn this.getLength( value, element ) > 0;\r\n\t\t\t}\r\n\t\t\treturn $.trim( value ).length > 0;\r\n\t\t},\r\n\r\n\t\t// http://jqueryvalidation.org/email-method/\r\n\t\temail: function( value, element ) {\r\n\t\t\t// From http://www.whatwg.org/specs/web-apps/current-work/multipage/states-of-the-type-attribute.html#e-mail-state-%28type=email%29\r\n\t\t\t// Retrieved 2014-01-14\r\n\t\t\t// If you have a problem with this implementation, report a bug against the above spec\r\n\t\t\t// Or use custom methods to implement your own email validation\r\n\t\t\treturn this.optional( element ) || /^[a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test( value );\r\n\t\t},\r\n\r\n\t\t// http://jqueryvalidation.org/url-method/\r\n\t\turl: function( value, element ) {\r\n\t\t\t// contributed by Scott Gonzalez: http://projects.scottsplayground.com/iri/\r\n\t\t\treturn this.optional( element ) || /^(https?|s?ftp):\\/\\/(((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:)*@)?(((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5]))|((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.?)(:\\d*)?)(\\/((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)+(\\/(([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)*)*)?)?(\\?((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|[\\uE000-\\uF8FF]|\\/|\\?)*)?(#((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|\\/|\\?)*)?$/i.test( value );\r\n\t\t},\r\n\r\n\t\t// http://jqueryvalidation.org/date-method/\r\n\t\tdate: function( value, element ) {\r\n\t\t\treturn this.optional( element ) || !/Invalid|NaN/.test( new Date( value ).toString() );\r\n\t\t},\r\n\r\n\t\t// http://jqueryvalidation.org/dateISO-method/\r\n\t\tdateISO: function( value, element ) {\r\n\t\t\treturn this.optional( element ) || /^\\d{4}[\\/\\-](0?[1-9]|1[012])[\\/\\-](0?[1-9]|[12][0-9]|3[01])$/.test( value );\r\n\t\t},\r\n\r\n\t\t// http://jqueryvalidation.org/number-method/\r\n\t\tnumber: function( value, element ) {\r\n\t\t\treturn this.optional( element ) || /^-?(?:\\d+|\\d{1,3}(?:,\\d{3})+)?(?:\\.\\d+)?$/.test( value );\r\n\t\t},\r\n\r\n\t\t// http://jqueryvalidation.org/digits-method/\r\n\t\tdigits: function( value, element ) {\r\n\t\t\treturn this.optional( element ) || /^\\d+$/.test( value );\r\n\t\t},\r\n\r\n\t\t// http://jqueryvalidation.org/creditcard-method/\r\n\t\t// based on http://en.wikipedia.org/wiki/Luhn/\r\n\t\tcreditcard: function( value, element ) {\r\n\t\t\tif ( this.optional( element ) ) {\r\n\t\t\t\treturn \"dependency-mismatch\";\r\n\t\t\t}\r\n\t\t\t// accept only spaces, digits and dashes\r\n\t\t\tif ( /[^0-9 \\-]+/.test( value ) ) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tvar nCheck = 0,\r\n\t\t\t\tnDigit = 0,\r\n\t\t\t\tbEven = false,\r\n\t\t\t\tn, cDigit;\r\n\r\n\t\t\tvalue = value.replace( /\\D/g, \"\" );\r\n\r\n\t\t\t// Basing min and max length on\r\n\t\t\t// http://developer.ean.com/general_info/Valid_Credit_Card_Types\r\n\t\t\tif ( value.length < 13 || value.length > 19 ) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tfor ( n = value.length - 1; n >= 0; n--) {\r\n\t\t\t\tcDigit = value.charAt( n );\r\n\t\t\t\tnDigit = parseInt( cDigit, 10 );\r\n\t\t\t\tif ( bEven ) {\r\n\t\t\t\t\tif ( ( nDigit *= 2 ) > 9 ) {\r\n\t\t\t\t\t\tnDigit -= 9;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tnCheck += nDigit;\r\n\t\t\t\tbEven = !bEven;\r\n\t\t\t}\r\n\r\n\t\t\treturn ( nCheck % 10 ) === 0;\r\n\t\t},\r\n\r\n\t\t// http://jqueryvalidation.org/minlength-method/\r\n\t\tminlength: function( value, element, param ) {\r\n\t\t\tvar length = $.isArray( value ) ? value.length : this.getLength( $.trim( value ), element );\r\n\t\t\treturn this.optional( element ) || length >= param;\r\n\t\t},\r\n\r\n\t\t// http://jqueryvalidation.org/maxlength-method/\r\n\t\tmaxlength: function( value, element, param ) {\r\n\t\t\tvar length = $.isArray( value ) ? value.length : this.getLength( $.trim( value ), element );\r\n\t\t\treturn this.optional( element ) || length <= param;\r\n\t\t},\r\n\r\n\t\t// http://jqueryvalidation.org/rangelength-method/\r\n\t\trangelength: function( value, element, param ) {\r\n\t\t\tvar length = $.isArray( value ) ? value.length : this.getLength( $.trim( value ), element );\r\n\t\t\treturn this.optional( element ) || ( length >= param[ 0 ] && length <= param[ 1 ] );\r\n\t\t},\r\n\r\n\t\t// http://jqueryvalidation.org/min-method/\r\n\t\tmin: function( value, element, param ) {\r\n\t\t\treturn this.optional( element ) || value >= param;\r\n\t\t},\r\n\r\n\t\t// http://jqueryvalidation.org/max-method/\r\n\t\tmax: function( value, element, param ) {\r\n\t\t\treturn this.optional( element ) || value <= param;\r\n\t\t},\r\n\r\n\t\t// http://jqueryvalidation.org/range-method/\r\n\t\trange: function( value, element, param ) {\r\n\t\t\treturn this.optional( element ) || ( value >= param[ 0 ] && value <= param[ 1 ] );\r\n\t\t},\r\n\r\n\t\t// http://jqueryvalidation.org/equalTo-method/\r\n\t\tequalTo: function( value, element, param ) {\r\n\t\t\t// bind to the blur event of the target in order to revalidate whenever the target field is updated\r\n\t\t\t// TODO find a way to bind the event just once, avoiding the unbind-rebind overhead\r\n\t\t\tvar target = $( param );\r\n\t\t\tif ( this.settings.onfocusout ) {\r\n\t\t\t\ttarget.unbind( \".validate-equalTo\" ).bind( \"blur.validate-equalTo\", function() {\r\n\t\t\t\t\t$( element ).valid();\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\treturn value === target.val();\r\n\t\t},\r\n\r\n\t\t// http://jqueryvalidation.org/remote-method/\r\n\t\tremote: function( value, element, param ) {\r\n\t\t\tif ( this.optional( element ) ) {\r\n\t\t\t\treturn \"dependency-mismatch\";\r\n\t\t\t}\r\n\r\n\t\t\tvar previous = this.previousValue( element ),\r\n\t\t\t\tvalidator, data;\r\n\r\n\t\t\tif (!this.settings.messages[ element.name ] ) {\r\n\t\t\t\tthis.settings.messages[ element.name ] = {};\r\n\t\t\t}\r\n\t\t\tprevious.originalMessage = this.settings.messages[ element.name ].remote;\r\n\t\t\tthis.settings.messages[ element.name ].remote = previous.message;\r\n\r\n\t\t\tparam = typeof param === \"string\" && { url: param } || param;\r\n\r\n\t\t\tif ( previous.old === value ) {\r\n\t\t\t\treturn previous.valid;\r\n\t\t\t}\r\n\r\n\t\t\tprevious.old = value;\r\n\t\t\tvalidator = this;\r\n\t\t\tthis.startRequest( element );\r\n\t\t\tdata = {};\r\n\t\t\tdata[ element.name ] = value;\r\n\t\t\t$.ajax( $.extend( true, {\r\n\t\t\t\turl: param,\r\n\t\t\t\tmode: \"abort\",\r\n\t\t\t\tport: \"validate\" + element.name,\r\n\t\t\t\tdataType: \"json\",\r\n\t\t\t\tdata: data,\r\n\t\t\t\tcontext: validator.currentForm,\r\n\t\t\t\tsuccess: function( response ) {\r\n\t\t\t\t\tvar valid = response === true || response === \"true\",\r\n\t\t\t\t\t\terrors, message, submitted;\r\n\r\n\t\t\t\t\tvalidator.settings.messages[ element.name ].remote = previous.originalMessage;\r\n\t\t\t\t\tif ( valid ) {\r\n\t\t\t\t\t\tsubmitted = validator.formSubmitted;\r\n\t\t\t\t\t\tvalidator.prepareElement( element );\r\n\t\t\t\t\t\tvalidator.formSubmitted = submitted;\r\n\t\t\t\t\t\tvalidator.successList.push( element );\r\n\t\t\t\t\t\tdelete validator.invalid[ element.name ];\r\n\t\t\t\t\t\tvalidator.showErrors();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\terrors = {};\r\n\t\t\t\t\t\tmessage = response || validator.defaultMessage( element, \"remote\" );\r\n\t\t\t\t\t\terrors[ element.name ] = previous.message = $.isFunction( message ) ? message( value ) : message;\r\n\t\t\t\t\t\tvalidator.invalid[ element.name ] = true;\r\n\t\t\t\t\t\tvalidator.showErrors( errors );\r\n\t\t\t\t\t}\r\n\t\t\t\t\tprevious.valid = valid;\r\n\t\t\t\t\tvalidator.stopRequest( element, valid );\r\n\t\t\t\t}\r\n\t\t\t}, param ) );\r\n\t\t\treturn \"pending\";\r\n\t\t}\r\n\r\n\t}\r\n\r\n});\r\n\r\n$.format = function deprecated() {\r\n\tthrow \"$.format has been deprecated. Please use $.validator.format instead.\";\r\n};\r\n\r\n// ajax mode: abort\r\n// usage: $.ajax({ mode: \"abort\"[, port: \"uniqueport\"]});\r\n// if mode:\"abort\" is used, the previous request on that port (port can be undefined) is aborted via XMLHttpRequest.abort()\r\n\r\nvar pendingRequests = {},\r\n\tajax;\r\n// Use a prefilter if available (1.5+)\r\nif ( $.ajaxPrefilter ) {\r\n\t$.ajaxPrefilter(function( settings, _, xhr ) {\r\n\t\tvar port = settings.port;\r\n\t\tif ( settings.mode === \"abort\" ) {\r\n\t\t\tif ( pendingRequests[port] ) {\r\n\t\t\t\tpendingRequests[port].abort();\r\n\t\t\t}\r\n\t\t\tpendingRequests[port] = xhr;\r\n\t\t}\r\n\t});\r\n} else {\r\n\t// Proxy ajax\r\n\tajax = $.ajax;\r\n\t$.ajax = function( settings ) {\r\n\t\tvar mode = ( \"mode\" in settings ? settings : $.ajaxSettings ).mode,\r\n\t\t\tport = ( \"port\" in settings ? settings : $.ajaxSettings ).port;\r\n\t\tif ( mode === \"abort\" ) {\r\n\t\t\tif ( pendingRequests[port] ) {\r\n\t\t\t\tpendingRequests[port].abort();\r\n\t\t\t}\r\n\t\t\tpendingRequests[port] = ajax.apply(this, arguments);\r\n\t\t\treturn pendingRequests[port];\r\n\t\t}\r\n\t\treturn ajax.apply(this, arguments);\r\n\t};\r\n}\r\n\r\n// provides delegate(type: String, delegate: Selector, handler: Callback) plugin for easier event delegation\r\n// handler is only called when $(event.target).is(delegate), in the scope of the jquery-object for event.target\r\n\r\n$.extend($.fn, {\r\n\tvalidateDelegate: function( delegate, type, handler ) {\r\n\t\treturn this.bind(type, function( event ) {\r\n\t\t\tvar target = $(event.target);\r\n\t\t\tif ( target.is(delegate) ) {\r\n\t\t\t\treturn handler.apply(target, arguments);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n});\r\n\r\n}));"],"names":["factory","define","amd","jQuery","$","extend","fn","validate","options","this","length","debug","window","console","warn","validator","data","attr","settings","onsubmit","validateDelegate","event","submitHandler","submitButton","target","hasClass","cancelSubmit","undefined","submit","handle","hidden","name","val","appendTo","currentForm","call","remove","preventDefault","form","pendingRequest","formSubmitted","focusInvalid","valid","is","each","element","removeAttrs","attributes","result","$element","split","index","value","removeAttr","rules","command","argument","staticRules","existingRules","param","filtered","normalizeRule","messages","method","normalizeRules","classRules","attributeRules","dataRules","required","remote","expr","blank","a","trim","filled","unchecked","prop","defaults","init","format","source","params","arguments","args","makeArray","unshift","apply","constructor","Array","slice","i","n","replace","RegExp","groups","errorClass","validClass","errorElement","errorContainer","errorLabelContainer","ignore","ignoreTitle","onfocusin","lastActive","focusCleanup","blockFocusCleanup","unhighlight","hideThese","errorsFor","onfocusout","checkable","submitted","optional","onkeyup","which","elementValue","lastElement","onclick","parentNode","highlight","type","findByName","addClass","removeClass","setDefaults","email","url","date","dateISO","number","digits","creditcard","equalTo","maxlength","minlength","rangelength","range","max","min","autoCreateRanges","prototype","delegate","eventType","labelContainer","errorContext","containers","add","valueCache","pending","invalid","reset","key","invalidHandler","bind","find","checkForm","errorMap","triggerHandler","showErrors","prepareForm","elements","currentElements","check","cleanElement","clean","checkElement","validationTargetFor","prepareElement","numberOfInvalids","toHide","errors","errorList","push","message","successList","grep","defaultShowErrors","resetForm","hideErrors","removeData","objectLength","obj","count","not","text","addWrapper","hide","size","findLastActive","filter","focus","trigger","e","rulesCache","error","selector","join","toShow","validity","badInput","rule","rulesCount","map","dependencyMismatch","parameters","methods","formatAndAdd","log","id","customDataMessage","charAt","toUpperCase","substring","toLowerCase","customMessage","m","String","findDefined","defaultMessage","title","theregex","test","toToggle","wrapper","parent","showLabel","success","validElements","show","invalidElements","place","group","errorID","elementID","idOrName","describedBy","html","wrap","append","errorPlacement","insertAfter","parents","match","testgroup","describer","getLength","nodeName","depend","dependTypes","boolean","string","function","startRequest","stopRequest","previousValue","old","classRuleSettings","addClassRules","className","classes","getAttribute","Number","depends","keepRule","parameter","isFunction","parts","isArray","transformed","addMethod","Date","toString","cDigit","nCheck","nDigit","bEven","parseInt","unbind","previous","originalMessage","ajax","mode","port","dataType","context","response","pendingRequests","ajaxPrefilter","_","xhr","abort","ajaxSettings","handler"],"mappings":"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"}